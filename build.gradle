apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'application'

version = '2.9'

description = 'Java Implementation of Flow-Based Programming (FBP), which is a particular form of dataflow programming based on bounded buffers, information packets with defined lifetimes, named ports, and separate definition of connections.'

sourceCompatibility = JavaVersion.VERSION_1_7
targetCompatibility = JavaVersion.VERSION_1_7

mainClassName = "com.jpmorrsn.fbp.engine.Runtime"

jar {
    manifest {
        attributes 'Implementation-Title': 'JavaFBP', 'Implementation-Version': version
    }
}

repositories {
	mavenCentral()
}

task copyLibs(type: Copy) {
    from configurations.runtime
    into new File(buildDir, "lib")
}
build.dependsOn copyLibs

dependencies {
	// This will work when authors of Java-WebSocket will publish 1.3.1
	// compile 'org.java-websocket:Java-WebSocket:1.3.1'
    // This is a temporary workaround for Java-WebSocket
	compile files('lib/Java-WebSocket-1.3.1.jar')
    compile 'org.json:json:20090211'
}
